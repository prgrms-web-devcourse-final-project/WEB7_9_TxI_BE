### 상점 관리자 회원가입
POST {{BASE_URL}}/api/v1/auth/signup
Content-Type: application/json

{
  "email": "admin1234@test.com",
  "password": "qwer1234",
  "fullName": "Admin User",
  "nickname": "Admin1234",
  "role": "ADMIN",
  "year": "2002",
  "month": "2",
  "day": "11",
  "registrationNumber": "123-45-67890"
}

### 상점 관리자 로그인
POST {{BASE_URL}}/api/v1/auth/login
Content-Type: application/json

{
  "email": "admin1234@test.com",
  "password": "qwer1234"
}

### 일반 사용자 회원가입
POST {{BASE_URL}}/api/v1/auth/signup
Content-Type: application/json

{
  "email": "test@test.com",
  "password": "qwer1234",
  "fullName": "Test User",
  "nickname": "테스트유저",
  "role": "NORMAL",
  "year": "2002",
  "month": "2",
  "day": "11",
  "registrationNumber": ""
}

### 일반 사용자 로그인
POST {{BASE_URL}}/api/v1/auth/login
Content-Type: application/json

{
  "email": "test@test.com",
  "password": "qwer1234"
}

> {%
    const data = response.body.data;
    client.global.set("ACCESS_TOKEN", data.tokens.accessToken);

    const setCookie = response.headers['Set-Cookie'];

    function extractCookies(raw) {
        if (!raw) return null;

        // 배열이면 각 쿠키에서 "name=value" 부분만 가져오기
        if (Array.isArray(raw)) {
            return raw
                .map(c => c.split(';')[0]) // "accessToken=..." / "refreshToken=..."
                .join('; ');
        }

        // 문자열 하나에 두 개 쿠키가 , 로 들어오는 경우 대비
        // 예: "accessToken=...; Path=/, refreshToken=...; Path=/"
        return raw
            .split(',')
            .map(s => s.trim())
            .map(c => c.split(';')[0])
            .join('; ');
    }

    const cookieHeader = extractCookies(setCookie);
    if (cookieHeader) {
        client.global.set("COOKIE", cookieHeader);
    }
%}

### 비밀번호 검증
POST {{BASE_URL}}/api/v1/auth/verify-password
Cookie: {{COOKIE}}
Content-Type: application/json

{
  "password": "qwer1234"
}

### 로그아웃
POST {{BASE_URL}}/api/v1/auth/logout
Cookie: {{COOKIE}}
Content-Type: application/json