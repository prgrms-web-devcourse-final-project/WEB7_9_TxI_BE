<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>reCAPTCHA Token Generator - ë°±ì—”ë“œ í…ŒìŠ¤íŠ¸ìš©</title>
    <script src="https://www.google.com/recaptcha/api.js?render=6LdqrjQsAAAAAH135gDhYqN6aLCcM4x3UhLKkZsY"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 900px;
            margin: 50px auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
        }

        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        h1 {
            color: #667eea;
            text-align: center;
            margin-bottom: 10px;
        }

        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 14px;
        }

        .info-box {
            background: #f0f4ff;
            border-left: 4px solid #667eea;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 5px;
        }

        .info-box h3 {
            margin-top: 0;
            color: #667eea;
        }

        .info-box code {
            background: white;
            padding: 2px 6px;
            border-radius: 3px;
            color: #e83e8c;
            font-size: 13px;
        }

        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 16px;
            border-radius: 5px;
            cursor: pointer;
            width: 100%;
            font-weight: bold;
            transition: transform 0.2s;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        button:active {
            transform: translateY(0);
        }

        #token {
            margin-top: 20px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 5px;
            word-break: break-all;
            display: none;
            border: 1px solid #dee2e6;
        }

        #token.show {
            display: block;
        }

        .token-label {
            font-weight: bold;
            color: #667eea;
            margin-bottom: 10px;
        }

        .token-value {
            font-family: 'Courier New', monospace;
            background: white;
            padding: 15px;
            border-radius: 3px;
            font-size: 12px;
            color: #333;
            border: 1px solid #dee2e6;
            position: relative;
        }

        .copy-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #667eea;
            color: white;
            border: none;
            padding: 5px 15px;
            border-radius: 3px;
            cursor: pointer;
            font-size: 12px;
            width: auto;
        }

        .copy-btn:hover {
            background: #5568d3;
        }

        .success-msg {
            color: #28a745;
            font-weight: bold;
            margin-top: 10px;
            display: none;
        }

        .success-msg.show {
            display: block;
        }

        .warning-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin-top: 20px;
            border-radius: 5px;
        }

        .warning-box h4 {
            margin-top: 0;
            color: #856404;
        }

        .steps {
            background: #e7f3ff;
            padding: 20px;
            border-radius: 5px;
            margin-top: 20px;
        }

        .steps h3 {
            color: #0066cc;
            margin-top: 0;
        }

        .steps ol {
            padding-left: 20px;
        }

        .steps li {
            margin-bottom: 10px;
            line-height: 1.6;
        }
    </style>
</head>
<body>
<div class="container">
    <h1>ğŸ” reCAPTCHA Token Generator</h1>
    <p class="subtitle">ë°±ì—”ë“œ API í…ŒìŠ¤íŠ¸ìš© í† í° ìƒì„±ê¸°</p>

    <div class="info-box">
        <h3>ğŸ“Œ ì‚¬ìš© ì¤‘ì¸ í‚¤ ì •ë³´</h3>
        <p><strong>Site Key (í”„ë¡œë•ì…˜):</strong> <code>6LdqrjQsAAAAAH135gDhYqN6aLCcM4x3UhLKkZsY</code></p>
        <p><strong>Secret Key (ë°±ì—”ë“œ .env):</strong> <code>6LdqrjQsAAAAAEBtE16lbtXPhlaKHjPLFfWYVu7s</code></p>
        <p style="margin-bottom: 0; color: #666; font-size: 13px;">
            âœ… ì´ í‚¤ë“¤ì€ ì‹¤ì œ í”„ë¡œë•ì…˜ í‚¤ì…ë‹ˆë‹¤. Googleì´ ì‹¤ì œë¡œ ê²€ì¦ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.
        </p>
    </div>

    <button onclick="generateToken()">ğŸ¯ í† í° ìƒì„±í•˜ê¸°</button>

    <div id="token">
        <div class="token-label">ìƒì„±ëœ reCAPTCHA í† í°:</div>
        <div class="token-value" style="position: relative;">
            <span id="tokenValue"></span>
            <button class="copy-btn" onclick="copyToken()">ğŸ“‹ ë³µì‚¬</button>
        </div>
        <div class="success-msg" id="copyMsg">âœ… í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!</div>
    </div>

    <div class="steps">
        <h3>ğŸ“‹ Swaggerë¡œ í…ŒìŠ¤íŠ¸í•˜ëŠ” ë°©ë²•</h3>
        <ol>
            <li><strong>"í† í° ìƒì„±í•˜ê¸°"</strong> ë²„íŠ¼ì„ í´ë¦­í•´ì„œ í† í° ë°œê¸‰</li>
            <li>ìƒì„±ëœ í† í°ì„ <strong>ë³µì‚¬</strong> (ğŸ“‹ ë³µì‚¬ ë²„íŠ¼ í´ë¦­)</li>
            <li><code>http://localhost:8080/swagger-ui/index.html</code> ì ‘ì†</li>
            <li><strong>PreRegister API</strong> ì„¹ì…˜ì—ì„œ <code>POST /api/v1/events/{eventId}/pre-registers</code> ì„ íƒ</li>
            <li><strong>"Try it out"</strong> í´ë¦­</li>
            <li><strong>X-Recaptcha-Token</strong> í•„ë“œì— ë³µì‚¬í•œ í† í° ë¶™ì—¬ë„£ê¸°</li>
            <li><strong>eventId</strong> ì…ë ¥ (ì˜ˆ: 1)</li>
            <li><strong>Execute</strong> í´ë¦­</li>
        </ol>
    </div>

    <div class="warning-box">
        <h4>âš ï¸ ì£¼ì˜ì‚¬í•­</h4>
        <ul style="margin: 10px 0 0 0; padding-left: 20px;">
            <li><strong>í† í°ì€ 2ë¶„ í›„ ë§Œë£Œ</strong>ë©ë‹ˆë‹¤. ì˜¤ë˜ëœ í† í°ì€ ì¬ìƒì„±í•˜ì„¸ìš”.</li>
            <li><strong>í•œ ë²ˆ ì‚¬ìš©í•œ í† í°ì€ ì¬ì‚¬ìš© ë¶ˆê°€</strong>í•©ë‹ˆë‹¤. ìƒˆë¡œìš´ API í…ŒìŠ¤íŠ¸ë§ˆë‹¤ í† í°ì„ ì¬ìƒì„±í•˜ì„¸ìš”.</li>
            <li><strong>ì‹¤ì œ í”„ë¡œë•ì…˜ í‚¤ë¡œ ë³€ê²½</strong> ì‹œ, ì´ HTML íŒŒì¼ì˜ Site Keyë¥¼ êµì²´í•˜ì„¸ìš”.</li>
            <li>ë°±ì—”ë“œ <code>.env</code> íŒŒì¼ì˜ <code>GOOGLE_RECAPTCHA_SECRET_KEY</code>ê°€ ìœ„ì˜ Secret Keyì™€ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”.</li>
        </ul>
    </div>

    <div class="info-box" style="margin-top: 20px;">
        <h3>ğŸ”§ ë‹¤ë¥¸ í”„ë¡œë•ì…˜ í‚¤ë¡œ ë³€ê²½í•˜ëŠ” ë°©ë²•</h3>
        <p>1. <a href="https://www.google.com/recaptcha/admin" target="_blank">Google reCAPTCHA Admin Console</a>ì—ì„œ Site
            Key ë°œê¸‰</p>
        <p>2. ì´ HTML íŒŒì¼ì˜ <code>&lt;script&gt;</code> íƒœê·¸ì—ì„œ Site Key êµì²´:</p>
        <code style="display: block; margin: 10px 0;">
            &lt;script src="https://www.google.com/recaptcha/api.js?render=<strong
                style="color: red;">YOUR_SITE_KEY</strong>"&gt;&lt;/script&gt;
        </code>
        <p>3. ë°±ì—”ë“œ <code>.env</code> íŒŒì¼ì— Secret Key ì„¤ì •:</p>
        <code style="display: block; margin: 10px 0;">
            GOOGLE_RECAPTCHA_SECRET_KEY=<strong style="color: red;">YOUR_SECRET_KEY</strong>
        </code>
    </div>
</div>

<script>
    let currentToken = '';

    function generateToken() {
        // reCAPTCHAê°€ ë¡œë“œë˜ì—ˆëŠ”ì§€ í™•ì¸
        if (typeof grecaptcha === 'undefined') {
            alert('âŒ reCAPTCHAê°€ ë¡œë“œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•´ì£¼ì„¸ìš”.');
            return;
        }

        grecaptcha.ready(function () {
            grecaptcha.execute('6LdqrjQsAAAAAH135gDhYqN6aLCcM4x3UhLKkZsY', {action: 'pre_register'})
                .then(function (token) {
                    currentToken = token;
                    document.getElementById('tokenValue').textContent = token;
                    document.getElementById('token').classList.add('show');
                    console.log('âœ… í† í° ìƒì„± ì„±ê³µ:', token);

                    // ì„±ê³µ ì• ë‹ˆë©”ì´ì…˜
                    const tokenBox = document.getElementById('token');
                    tokenBox.style.animation = 'slideIn 0.3s ease-out';
                })
                .catch(function (error) {
                    alert('âŒ í† í° ìƒì„± ì‹¤íŒ¨: ' + error);
                    console.error('í† í° ìƒì„± ì˜¤ë¥˜:', error);
                });
        });
    }

    function copyToken() {
        if (!currentToken) {
            alert('âŒ ë¨¼ì € í† í°ì„ ìƒì„±í•´ì£¼ì„¸ìš”.');
            return;
        }

        navigator.clipboard.writeText(currentToken)
            .then(function () {
                const copyMsg = document.getElementById('copyMsg');
                copyMsg.classList.add('show');

                // 2ì´ˆ í›„ ë©”ì‹œì§€ ìˆ¨ê¹€
                setTimeout(function () {
                    copyMsg.classList.remove('show');
                }, 2000);

                console.log('âœ… í´ë¦½ë³´ë“œì— ë³µì‚¬ë¨:', currentToken);
            })
            .catch(function (error) {
                alert('âŒ ë³µì‚¬ ì‹¤íŒ¨: ' + error);
                console.error('ë³µì‚¬ ì˜¤ë¥˜:', error);
            });
    }

    // í˜ì´ì§€ ë¡œë“œ ì‹œ ì•ˆë‚´
    console.log('ğŸ“‹ reCAPTCHA Token Generator ë¡œë“œë¨');
    console.log('ğŸ”‘ í”„ë¡œë•ì…˜ Site Key: 6LdqrjQsAAAAAH135gDhYqN6aLCcM4x3UhLKkZsY');
    console.log('ğŸ” í”„ë¡œë•ì…˜ Secret Key: 6LdqrjQsAAAAAEBtE16lbtXPhlaKHjPLFfWYVu7s');
    console.log('ğŸ’¡ "í† í° ìƒì„±í•˜ê¸°" ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”!');

    // ì• ë‹ˆë©”ì´ì…˜ ìŠ¤íƒ€ì¼ ì¶”ê°€
    const style = document.createElement('style');
    style.textContent = `
            @keyframes slideIn {
                from {
                    opacity: 0;
                    transform: translateY(-10px);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }
        `;
    document.head.appendChild(style);
</script>
</body>
</html>
