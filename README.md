# WaitFair

> ì‚¬ì „ ë“±ë¡ê³¼ ëœë¤ ëŒ€ê¸°ì—´ ì‹œìŠ¤í…œìœ¼ë¡œ ëª¨ë“  ì‚¬ìš©ìì—ê²Œ ê³µí‰í•œ í‹°ì¼“ êµ¬ë§¤ ê¸°íšŒë¥¼ ì œê³µí•˜ëŠ” ì˜ˆë§¤ í”Œë«í¼


## ğŸ’¡ì„œë¹„ìŠ¤ ì†Œê°œ

**WaitFair**ëŠ” ê¸°ì¡´ ì„ ì°©ìˆœ í‹°ì¼“íŒ… êµ¬ì¡°ì—ì„œ ë°œìƒí•˜ëŠ” **ë¶ˆê³µì •ì„±, ì„œë²„ íŠ¸ë˜í”½ í­ì£¼, ì•”í‘œ ê±°ë˜ ë¬¸ì œ**ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ì„¤ê³„ëœ **ì‚¬ì „ ë“±ë¡ + ëœë¤ ëŒ€ê¸°ì—´ ê¸°ë°˜ì˜ ê³µì •í•œ ì˜ˆë§¤ í”Œë«í¼**ì…ë‹ˆë‹¤.

ê¸°ì¡´ í‹°ì¼“íŒ…ì€ ì ‘ì† ì†ë„, ë„¤íŠ¸ì›Œí¬ ìƒíƒœ, ë””ë°”ì´ìŠ¤ ì„±ëŠ¥, ìë™í™” ë„êµ¬ ì—¬ë¶€ ë“± í™˜ê²½ì  ìš”ì†Œì— ì˜í•´ ì˜ˆë§¤ ì„±ê³µ ì—¬ë¶€ê°€ ê²°ì •ë˜ì—ˆìŠµë‹ˆë‹¤. 

ì´ëŸ¬í•œ ìš”ì†Œë“¤ì€ ì‚¬ìš©ìê°€ í†µì œí•  ìˆ˜ ì—†ìœ¼ë©°, ì§„ì‹¬ìœ¼ë¡œ ì˜ˆë§¤ë¥¼ ì›í•˜ëŠ” ì‚¬ìš©ìì—ê²Œ ê³µí‰í•œ ê¸°íšŒë¥¼ ì œê³µí•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.

WaitFairëŠ” ì´ëŸ¬í•œ í™˜ê²½ì  í¸ì°¨ë¥¼ ì œê±°í•˜ê³ , **ëˆ„êµ¬ë‚˜ ë™ì¼í•œ ì¡°ê±´ì—ì„œ ì°¸ì—¬í•  ìˆ˜ ìˆëŠ” ì˜ˆë§¤ ê²½í—˜**ì„ ì œê³µí•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•©ë‹ˆë‹¤.

---

## ğŸ‘¨â€ğŸ’» ê°œë°œ ê¸°ê°„ & íŒ€ì› ì†Œê°œ

### **ê°œë°œ ê¸°ê°„**

> 2025.12.03 ~ 2026.01.07
> 

### **íŒ€ì›**

| <a href="https://github.com/LeeMinwoo115"><img src="https://github.com/LeeMinwoo115.png" width="100"/></a> | <a href="https://github.com/gksdud1109"><img src="https://github.com/gksdud1109.png" width="100"/></a> | <a href="https://github.com/kimeunkyoungg"><img src="https://github.com/kimeunkyoungg.png" width="100"/></a> | <a href="https://github.com/No-366"><img src="https://github.com/No-366.png" width="100"/></a> | <a href="https://github.com/thatgirls00"><img src="https://github.com/thatgirls00.png" width="100"/></a> |
| :---: | :---: | :---: | :---: | :---: |
| **ì´ë¯¼ìš°** | **ì •í•œì˜** | **ê¹€ì€ê²½** | **ë‚˜ì›…ì² ** | **ì „í˜„ìˆ˜** |
| PO | BE íŒ€ì¥ | íŒ€ì› | íŒ€ì› | íŒ€ì› |

---

## âœ¨ WaitFairì˜ ì°¨ë³„ì 

### BEFORE (ê¸°ì¡´ ì„ ì°©ìˆœ ë°©ì‹ì˜ ë¬¸ì œì )

- ë„¤íŠ¸ì›Œí¬ ì†ë„, ë””ë°”ì´ìŠ¤ ì„±ëŠ¥ ë“± ì‚¬ìš©ìê°€ í†µì œí•  ìˆ˜ ì—†ëŠ” ìš”ì¸ì´ ì˜ˆë§¤ ì„±ê³µ ì—¬ë¶€ë¥¼ ê²°ì •
- í´ë¦­ ì „ìŸìœ¼ë¡œ ì¸í•œ ì„œë²„ ê³¼ë¶€í•˜ : ì˜¤í”ˆ ì‹œê°„ íŠ¸ë˜í”½ í­ì£¼ë¡œ ì„œë²„ ë‹¤ìš´ ë° ì§€ì—° ë¹ˆë²ˆ
- ë´‡/ë§¤í¬ë¡œì˜ ë‚¨ìš© : ìë™í™” ë„êµ¬ê°€ ìƒìœ„ ìˆœë²ˆì„ ë…ì í•˜ë©° ì¼ë°˜ ì‚¬ìš©ì í”¼í•´ ì¦ê°€
- ì•”í‘œ(ë¦¬ì…€) ë¬¸ì œ

### AFTER (WaitFairì˜ í•´ê²°ì±…)

- ì‚¬ì „ ë“±ë¡ + ëŒ€ê¸°ì—´ ëœë¤ ì…”í”Œë¡œ ê³µì •í•œ í‹°ì¼“íŒ… í™˜ê²½ ì œê³µ
- ë°°ì¹˜ ë‹¨ìœ„ ì…ì¥ìœ¼ë¡œ íŠ¸ë˜í”½ ë¶„ì‚°
- reCAPTCHA & ****IP Rate Limiting & IDC IP ì°¨ë‹¨ & Device Fingerprinting ê¸°ë°˜ ë´‡/ë§¤í¬ë¡œ ì°¨ë‹¨
- Dynamic QR, ë””ë°”ì´ìŠ¤ ì¤‘ë³µ ì°¨ë‹¨, Merkle Tree ê¸°ë°˜ ì–‘ë„ ì‹œìŠ¤í…œìœ¼ë¡œ ì•”í‘œ ë¬¸ì œ í•´ê²°

---

## âœ… ì£¼ìš” ê¸°ëŠ¥

1. JWT ê¸°ë°˜ ì¸ì¦ / ì¸ê°€ ë° ì†Œì…œ ë¡œê·¸ì¸
2. CoolSMSë¥¼ ë¹„ë¡¯í•œ ë´‡/ë§¤í¬ë¡œ ì°¨ë‹¨ ì‚¬ì „ ë“±ë¡
3. Fisher-Yates Shuffle ê¸°ë°˜ ê³µì •í•œ ëŒ€ê¸°ì—´ ë°°ì • & WebSocket ê¸°ë°˜ ì‹¤ì‹œê°„ ìˆœì„œ í™•ì¸
4. WebSocket ê¸°ë°˜ ì‹¤ì‹œê°„ ì¢Œì„ ì„ íƒ
5. Toss Payments ê¸°ë°˜ ê²°ì œ
6. Dynamic QR í‹°ì¼“
7. WebSocket ê¸°ë°˜ ì‹¤ì‹œê°„ ì•Œë¦¼
8. Merkle Tree ê¸°ë°˜ ì–‘ë„ ì‹œìŠ¤í…œ
9. ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ
10. Grafana Alloy ê¸°ë°˜ ì„œë²„ ê´€ì¸¡ íŒŒì´í”„ë¼ì¸

---

## âš™ï¸ í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

**ë¡œì»¬ í™˜ê²½ .env.properties**

```java
# PostgreSQL
DB_USER=your_db_user
DB_PASSWORD=your_db_password

# JWT 
JWT_SECRET=your_secret_pattern
JWT_QR_SECRET=your_qr_secret_pattern
JWT_ACCESS_TOKEN_DURATION=3600
JWT_REFRESH_TOKEN_DURATION=1209600

# Redis
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password

# URLs
API_BASE_URL=waitfair.shop
FRONTEND_URL=https://www.waitfair.shop

# CoolSMS
SMS_API_KEY=your_sms_api_key
SMS_SECRET_KEY=your_sms_secret_key
SMS_SENDER_NUMBER=your_sms_sender_number

# S3
S3_BUCKET_NAME=your_s3_bucket_name

# reCAPTCHA
RECAPTCHA_SITE_KEY=your_recaptcha_site_key
RECAPTCHA_SECRET_KEY=your_recaptcha_secret_key

# TossPayments
TOSS_SECRET_KEY=your_payment_secret_key

# KAKAO
KAKAO_CLIENT_ID=your_kakao_client_id
KAKAO_CLIENT_SECRET=your_kakao_client_secret

```

**ë°°í¬ í™˜ê²½ Doppler**

```java
# PostgreSQL
DB_USER=your_db_user
DB_PASSWORD=your_db_password

# Supabase Database (prod)
SUPABASE_URL=your_supabase_url
SUPABASE_USERNAME=your_supabase_username
SUPABASE_PASSWORD=your_supabase_password

# JWT 
JWT_SECRET=your_secret_pattern
JWT_QR_SECRET=your_qr_secret_pattern
JWT_ACCESS_TOKEN_DURATION=3600
JWT_REFRESH_TOKEN_DURATION=1209600

# Redis
REDIS_HOST=your_docker_host
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password

# URLs
API_BASE_URL=waitfair.shop
FRONTEND_URL=https://www.waitfair.shop
BACKEND_URL=https://api.waitfair.shop

# CoolSMS
SMS_API_KEY=your_sms_api_key
SMS_SECRET_KEY=your_sms_secret_key
SMS_SENDER_NUMBER=your_sms_sender_number

# S3
S3_BUCKET_NAME=your_s3_bucket_name

# reCAPTCHA
RECAPTCHA_SITE_KEY=your_recaptcha_site_key
RECAPTCHA_SECRET_KEY=your_recaptcha_secret_key

# TossPayments
TOSS_SECRET_KEY=your_payment_secret_key

# Grafana
GRAFANA_API_TOKEN=your_grafana_token
GRAFANA_USER_ID=your_grafana_name
LOKI_PUSH_URL=your_loki_url

# KAKAO
KAKAO_CLIENT_ID=your_kakao_client_id
KAKAO_CLIENT_SECRET=your_kakao_client_secret
```

---

## ğŸŒ ë°°í¬ URL

**[BE]** https://api.waitfair.shop/

**[FE]** https://www.waitfair.shop/

---

## ğŸ”— ERD

**ì¶”ê°€ ì˜ˆì •**

---

## ğŸ–¼ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

<img width="3208" height="2301" alt="Image" src="https://github.com/user-attachments/assets/75630aff-5a0f-4f22-8a81-66c8ac3b77f2" />

---

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

### Backend

![Java](https://img.shields.io/badge/Java-007396?style=for-the-badge&logo=openjdk&logoColor=white)
![Spring Boot](https://img.shields.io/badge/Spring%20Boot-6DB33F?style=for-the-badge&logo=springboot&logoColor=white)
![Spring Security](https://img.shields.io/badge/Spring%20Security-6DB33F?style=for-the-badge&logo=springsecurity&logoColor=white)
![Spring Data JPA](https://img.shields.io/badge/Spring%20Data%20JPA-007396?style=for-the-badge&logo=hibernate&logoColor=white)
![QueryDSL](https://img.shields.io/badge/QueryDSL-4479A1?style=for-the-badge&logo=databricks&logoColor=white)
![Gradle](https://img.shields.io/badge/Gradle-02303A?style=for-the-badge&logo=gradle&logoColor=white)
![Swagger](https://img.shields.io/badge/Swagger-85EA2D?style=for-the-badge&logo=swagger&logoColor=black)
![WebSocket](https://img.shields.io/badge/WebSocket%20(STOMP)-010101?style=for-the-badge&logo=socket.io&logoColor=white)
![reCAPTCHA](https://img.shields.io/badge/reCAPTCHA-4285F4?style=for-the-badge&logo=google&logoColor=white)

### Database

![PostgreSQL](https://img.shields.io/badge/PostgreSQL-4169E1?style=for-the-badge&logo=postgresql&logoColor=white)
![H2 Database](https://img.shields.io/badge/H2%20Database-003B57?style=for-the-badge&logo=h2&logoColor=white)

### Infra

![Docker](https://img.shields.io/badge/Docker-2496ED?style=for-the-badge&logo=docker&logoColor=white)
![AWS](https://img.shields.io/badge/AWS-232F3E?style=for-the-badge&logo=amazonaws&logoColor=white)
![EC2](https://img.shields.io/badge/Amazon%20EC2-FF9900?style=for-the-badge&logo=amazonec2&logoColor=white)
![S3](https://img.shields.io/badge/Amazon%20S3-569A31?style=for-the-badge&logo=amazons3&logoColor=white)
![Supabase](https://img.shields.io/badge/Supabase-3FCF8E?style=for-the-badge&logo=supabase&logoColor=white)

### Observability & Performance

![Grafana](https://img.shields.io/badge/Grafana-F46800?style=for-the-badge&logo=grafana&logoColor=white)
![Prometheus](https://img.shields.io/badge/Prometheus-E6522C?style=for-the-badge&logo=prometheus&logoColor=white)
![k6](https://img.shields.io/badge/k6-7D64FF?style=for-the-badge&logo=k6&logoColor=white)
![Doppler](https://img.shields.io/badge/Doppler-000000?style=for-the-badge&logo=doppler&logoColor=white)

### External Services

![CoolSMS](https://img.shields.io/badge/CoolSMS-00C300?style=for-the-badge&logo=messagebird&logoColor=white)
![Toss Payments](https://img.shields.io/badge/Toss%20Payments-0064FF?style=for-the-badge&logo=toss&logoColor=white)

---

## ğŸ’¬ ê°œë°œ ì»¨ë²¤ì…˜

### 1ï¸âƒ£ GitHub Flow

- **main**
    - ì‹¤ì œ ì„œë¹„ìŠ¤ì— ë°°í¬ë˜ëŠ” ì•ˆì •í™” ë¸Œëœì¹˜
    - ì§ì ‘ ì»¤ë°‹ ê¸ˆì§€ (feature, fix, refactor ë¸Œëœì¹˜ë¥¼ í†µí•´ ë°˜ì˜)
    - ë¸Œëœì¹˜ ë³´í˜¸ ê·œì¹™ ì ìš© : PRì„ í†µí•´ ìµœì†Œ 1ëª…ì˜ ë¦¬ë·° ìŠ¹ì¸ í›„ ë¨¸ì§€ ê°€ëŠ¥
- **feature/ & fix/ & refactor/**
    - ê°œë³„ ê¸°ëŠ¥ ê°œë°œ, ë²„ê·¸ ìˆ˜ì •, ì½”ë“œ ë¦¬íŒ©í† ë§ìš© ë¸Œëœì¹˜
    - ì´ìŠˆ ë‹¨ìœ„ë¡œ ìƒì„±í•˜ì—¬ ì‘ì—…
    - ì‘ì—… ì™„ë£Œ í›„ PRì„ í†µí•´ mainì— ë¨¸ì§€

---

### **2ï¸âƒ£ ì‘ì—… ìˆœì„œ**

1. **ì´ìŠˆ ìƒì„±** â†’ ì‘ì—… ë‹¨ìœ„ ì •ì˜
2. **ë¸Œëœì¹˜ ìƒì„±** â†’ main ë¸Œëœì¹˜ì—ì„œ ì´ìŠˆë³„ ì‘ì—… ë¸Œëœì¹˜ ìƒì„±
3. **Commit & Push**
4. **PR ìƒì„± & ì½”ë“œ ë¦¬ë·°** â†’ ìµœì†Œ 1ëª… ìŠ¹ì¸ í•„ìš”
5. **Merge & ë¸Œëœì¹˜ ì •ë¦¬**
    - ë¦¬ë·° ì™„ë£Œ í›„ main ë¸Œëœì¹˜ë¡œ Merge
    - Merge í›„ ì´ìŠˆë³„ ì‘ì—… ë¸Œëœì¹˜ ì‚­ì œ

---

### 3ï¸âƒ£ ë„¤ì´ë° & ì‘ì„± ê·œì¹™

1. **ì´ìŠˆ**
    - ì œëª© ê·œì¹™ : `[íƒ€ì…] ì‘ì—…ë‚´ìš©`
    - ì˜ˆì‹œ : `[feat] ë¡œê·¸ì¸ ê¸°ëŠ¥ ì¶”ê°€`
    - ë³¸ë¬¸ì€ í…œí”Œë¦¿ì— ë§ì¶°ì„œ ì‘ì„±
2. **PR**
    - ì œëª© ê·œì¹™ : `[íƒ€ì…] ì‘ì—…ë‚´ìš©`
    - ì˜ˆì‹œ : `[feat] ë¡œê·¸ì¸ ê¸°ëŠ¥ ì¶”ê°€`
    - ë³¸ë¬¸ì€ í…œí”Œë¦¿ì— ë§ì¶°ì„œ ì‘ì„± + close #ì´ìŠˆë„˜ë²„
3. **ë¸Œëœì¹˜**
    - ìƒì„± ê¸°ì¤€ : `main` ë¸Œëœì¹˜ì—ì„œ ìƒì„±
    - ëª…ëª… ê·œì¹™ : `íƒ€ì…/ì‘ì—… ì„¤ëª…`
    - ì˜ˆì‹œ: `feat/login`
4. **Commit Message ê·œì¹™**
    
    
    | íƒ€ì… | ì˜ë¯¸ |
    | --- | --- |
    | **feat** | ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€ |
    | **fix** | ë²„ê·¸ ìˆ˜ì • |
    | **docs** | ë¬¸ì„œ ìˆ˜ì • (README, ì£¼ì„ ë“±) |
    | **style** | ì½”ë“œ ìŠ¤íƒ€ì¼ ë³€ê²½ (í¬ë§·íŒ…, ì„¸ë¯¸ì½œë¡  ë“±. ê¸°ëŠ¥ ë³€í™” ì—†ìŒ) |
    | **refactor** | ì½”ë“œ ë¦¬íŒ©í† ë§ (ë™ì‘ ë³€í™” ì—†ìŒ) |
    | **test** | í…ŒìŠ¤íŠ¸ ì½”ë“œ ì¶”ê°€/ìˆ˜ì • |
    | **chore** | ë¹Œë“œ, íŒ¨í‚¤ì§€ ë§¤ë‹ˆì €, ì„¤ì • íŒŒì¼ ë“± ìœ ì§€ë³´ìˆ˜ ì‘ì—…(í™˜ê²½ ì„¤ì •) |
    | **remove** | íŒŒì¼, í´ë” ì‚­ì œ |
    | **rename** | íŒŒì¼, í´ë”ëª… ìˆ˜ì • |
    - `íƒ€ì… : ì‘ì—…ë‚´ìš©`
    - ì˜ˆì‹œ: `feat : ë¡œê·¸ì¸ ê¸°ëŠ¥ ì¶”ê°€`

---

### 4ï¸âƒ£ ì½”ë“œ ì»¨ë²¤ì…˜

**ë„¤ì´ë²„ Java ìŠ¤íƒ€ì¼ ê°€ì´ë“œ ê¸°ë°˜**
- ê¸°ë³¸ ì›ì¹™
    - ê°€ë…ì„± ìµœìš°ì„ 
    - íŠ¹ë³„í•œ ì´ìœ ê°€ ì—†ëŠ” ê²½ìš° IntelliJ IDEA ìë™ ì„œì‹ ì¤€ìˆ˜
